<!Doctype html>
<html>
<head>
<link rel="stylesheet" href="../css/buttons.css"/>
</head>
<body>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="../js/buttonGenerator.js"></script>
<script type="text/javascript">
// Add buttons
var buttons = "";
buttons += buttonGenerator.newButton(1,0,"green","hehehheehehehehe eheheheheh eheheh",false,false,null);
buttons += buttonGenerator.newButton(1,0,"green","2",false,false,null);
buttons += buttonGenerator.newButton(1,0,"green","3",false,false,null);
buttons += buttonGenerator.newSubmitButton("orange","4");
buttons += buttonGenerator.newButton(1,0,"green","5",false,false,null);
buttons += buttonGenerator.newButton(1,0,"green","6",false,false,null);
buttons += buttonGenerator.newButton(1,0,"green","7",false,false,null);
$('body').append(buttons);
// Initialize array
var elementArray = new Array();
$('.button').each(function(index, element) {
    elementArray[index] = element;
});
if (elementArray.length > 0) {
	// Check if mobile
	var mobile = false;
	if($(elementArray[0]).height() % 26 === 0){
		mobile = true;
	}
	// Loop though the array and find all the fullsize buttons
	$.each(elementArray,function(index, element) {
	   if ($(this).hasClass("fullsize")) {
		   if((index+1) % 2 == 0) {
				// If there is only one button above.
				elementArray.splice(index-1,1);
		   }
		   elementArray.splice(index-1,1);
	   }
	});
	// Remove the last button if the total button count is odd/uneven
	if(elementArray.length % 2 !== 0){
		elementArray.splice(elementArray.length-1,1);
	}
	// Loop through button pairs
	for (var i = 0; i <= elementArray.length - 1; i+=2) {
		// Get buttons
		var button1 = elementArray[i];
		var button2 = elementArray[i+1];
		// Get button heigth
		var button1Heigth = $(button1).height();
		var button2Heigth = $(button2).height();
		// If they have different heigths
		if (button1Heigth != button2Heigth) {
			// If mobile or not
			var initialHeigth = 0;
			var levelHeigth = 0;
			if(mobile) {
				initialHeigth = 10;
				levelHeigth = 13;
			} else {
				initialHeigth = 20;
				levelHeigth = 32;
			}
			var buttonHeigth = levelHeigth * 2;
			var biggestButtonHeigth = 0;
			var smallestButtonHeigth = 0;
			var buttonToResize = null;
			if(button1Heigth > button2Heigth) {
				biggestButtonHeigth = button1Heigth;
				smallestButtonHeigth = button2Heigth;
				buttonToResize = button2;
			} else {
				biggestButtonHeigth = button2Heigth;
				smallestButtonHeigth = button1Heigth;
				buttonToResize = button1;
			}
			resizeLevel = ((biggestButtonHeigth - smallestButtonHeigth) / buttonHeigth);
			topAddition = resizeLevel * levelHeigth;
			paddingAddition = topAddition + initialHeigth;
			$(buttonToResize).css("padding", paddingAddition + "px 0 " + paddingAddition + "px 0");
			$(buttonToResize).css("top", "-" + topAddition + "px");
		}
	}
}
</script>
</body>
</html>